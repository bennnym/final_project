(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,a,t){},1508:function(e,a,t){},1509:function(e,a,t){},1510:function(e,a,t){},1511:function(e,a,t){},1512:function(e,a,t){},1513:function(e,a,t){},1578:function(e,a,t){},1579:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),o=t(15),i=t(61),s=t(23),m=t(107),u={employer:!!localStorage.employer&&JSON.parse(localStorage.employer),student:!!localStorage.student&&JSON.parse(localStorage.student)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;switch((arguments.length>1?arguments[1]:void 0).type){case"SETSTUDENT":return{student:!e.student};case"SETEMPLOYER":return{employer:!e.employer};case"HIGHBIDTRUE":return{highBid:!0};case"HIGHBIDFALSE":return{highBid:!1};default:return e}},p=t(108),E=t(4),f=t(1591),v=t(261),b=t(1590),g=(t(270),t(17)),h=t(241),y=t.n(h),S=t(1588),O=function(e){return r.a.createElement(S.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{id:"contained-modal-title-vcenter"},e.header)),r.a.createElement(S.a.Body,null,e.form))},j=t(1589),N=t(247),w=t(1580),k=t(73),C=t(18),I={root:"https://gradbay.herokuapp.com/"},_=t(14),x=t.n(_),P=(t(434),C.object({email:C.string().email().required(),password:C.string().required()})),F=Object(s.b)(function(e){return{student:e.student,employer:e.employer}})(function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(""),b=Object(E.a)(v,2),g=b[0],h=b[1],y=function(a){a.preventDefault();var t={auth:{email:l,password:s}};x.a.post(I.root+"employer_token",t).then(function(a){201===a.status&&(h(!0),e.dispatch({type:"SETEMPLOYER"}),localStorage.setItem("jwt",a.data.jwt),localStorage.setItem("employer",!0),localStorage.setItem("email",l),f(!1)),x.a.post(I.root+"getid",{email:l}).then(function(e){localStorage.setItem("id",e.data.id)})}).catch(function(a){x.a.post(I.root+"student_token",t).then(function(a){201===a.status&&(h(!0),e.dispatch({type:"SETSTUDENT"}),localStorage.setItem("jwt",a.data.jwt),localStorage.setItem("student",!0),localStorage.setItem("email",l),f(!1)),x.a.post(I.root+"studentid",{email:l}).then(function(e){localStorage.setItem("studentID",e.data.id)})}).catch(function(e){f(!0)})})},S=function(e){c(e.target.value)},O=function(e){m(e.target.value)};return g?!0===g?r.a.createElement(w.a,{variant:"success"},r.a.createElement(w.a.Heading,null,"Login Succesful"),r.a.createElement("p",null,"Welcome back GradBay. Search for a grad on the home page or click here to see a full list of the current grads up for auction!")):void 0:r.a.createElement(k.a,{validationSchema:P,onSubmit:console.log},function(e){e.handleSubmit;var a=e.handleChange,t=(e.handleBlur,e.values),n=e.touched,l=(e.isValid,e.errors);return r.a.createElement(j.a,{onChange:a,noValidate:!0,action:"/users"},r.a.createElement(j.a.Group,{id:"login",controlId:"formBasicEmail"},r.a.createElement(j.a.Label,null,"Email address"),r.a.createElement(j.a.Control,{name:"email",value:t.email,isInvalid:!!l.email,isValid:n.email&&!l.email,onChange:S,type:"email",placeholder:"Enter email"}),r.a.createElement(j.a.Text,{className:"text-muted"},l.email?r.a.createElement("p",{style:{color:"red"}},l.email):"We'll never share your email with anyone else.")),r.a.createElement(j.a.Group,{id:"login",controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Password"),r.a.createElement(j.a.Control,{name:"password",value:t.password,isInvalid:!!l.password,isValid:n.password&&!l.password,onChange:O,type:"password",placeholder:"Password"}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.password)),r.a.createElement(j.a.Row,{id:"error-row"},r.a.createElement(N.a,{onClick:y,variant:"primary",type:"submit"},"Submit"),r.a.createElement("div",null,r.a.createElement("p",{id:"login-error"},p?"Email or Password incorrect, please try again":""))))})}),D=(t(104),t(1581)),L=t(10),T=t.n(L),A=function(e){var a,t=e.profilePhoto,n=e.reserve,l=e.day,c=e.hour,i=e.minute,s=e.second,m=e.id;return r.a.createElement("div",{className:"photo-container"},r.a.createElement("div",{className:"show-photo"},r.a.createElement("img",{className:"profile-confirm",src:t,alt:""})),r.a.createElement("div",{className:"show-data"},r.a.createElement("ul",null,r.a.createElement("li",null,"Reserve Salary: ",r.a.createElement("span",null," $",(a=n)?a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"")),r.a.createElement("li",null,"Time Till Employment: "),r.a.createElement("li",null,r.a.createElement("span",{className:"time-left"},l,"d ",c,"h ",i,"m ",s,"s")),r.a.createElement("li",null,"Bids: ",r.a.createElement("span",null,"0")," "),r.a.createElement("li",null,r.a.createElement(o.b,{to:{pathname:"/profile/".concat(m),state:{id:m}}},"Profile")))))},G=C.object({firstName:C.string().required(),lastName:C.string().required(),email:C.string().email().required(),university:C.string().required(),gpa:C.number().required().positive().integer(),reserve:C.number().required().positive().integer(),duration:C.number().required().positive().integer(),password:C.string().required("Password is required"),passwordConfirmation:C.string().oneOf([C.ref("password"),null],"Passwords must match")}),B=Object(s.b)(function(e){return{student:e.student}})(function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(""),b=Object(E.a)(v,2),h=b[0],y=b[1],S=Object(n.useState)(""),O=Object(E.a)(S,2),w=O[0],C=O[1],_=Object(n.useState)(""),P=Object(E.a)(_,2),F=P[0],L=P[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),K=M[0],R=M[1],V=Object(n.useState)(""),H=Object(E.a)(V,2),U=H[0],W=H[1],q=Object(n.useState)(""),$=Object(E.a)(q,2),z=$[0],Y=$[1],J=Object(n.useState)(""),X=Object(E.a)(J,2),Q=X[0],Z=X[1],ee=Object(n.useState)(""),ae=Object(E.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)(""),le=Object(E.a)(re,2),ce=le[0],oe=le[1],ie=Object(n.useState)(""),se=Object(E.a)(ie,2),me=se[0],ue=se[1],de=Object(n.useState)(""),pe=Object(E.a)(de,2),Ee=pe[0],fe=pe[1],ve=Object(n.useState)(""),be=Object(E.a)(ve,2),ge=be[0],he=be[1],ye=Object(n.useState)(""),Se=Object(E.a)(ye,2),Oe=Se[0],je=Se[1],Ne=Object(n.useState)("GO"),we=Object(E.a)(Ne,2),ke=we[0],Ce=we[1],Ie=Object(n.useState)(!1),_e=Object(E.a)(Ie,2),xe=_e[0],Pe=_e[1],Fe=function(a){a.preventDefault(),Pe(!0);var t=new FormData;t.append("profile_photo",Oe),t.append("first_name",l),t.append("last_name",s),t.append("email",p),t.append("university",h),t.append("gpa",w),t.append("reserve_price",F),t.append("auction_duration",function(e){var a=T.a.utc().add(e,"days").format();return a=(a=a.split("Z"))[0].split("T").join(" ")}(K)),t.append("password",U),t.append("password_confirmation",z),t.append("cv",ge),x.a.post(I.root+"students/create",t).then(function(a){if(200===a.status){var t=a.data,n=t.profile_photo,r=t.id,l=t.auction_duration;je(n),Z(r),localStorage.setItem("studentID",r),Ce(!1),c=l,setInterval(function(){var e=T.a.utc(),a=T()(c),t=new T.a.duration(a-e)._data,n=t.days,r=t.hours,l=t.minutes,o=t.seconds;ne(n),oe(r),ue(l),fe(o)},1e3),Pe(!1)}var c;x.a.post(I.root+"student_token",{auth:{email:p,password:U}}).then(function(a){e.dispatch({type:"SETSTUDENT"}),localStorage.setItem("jwt",a.data.jwt),localStorage.setItem("student",!0),localStorage.setItem("email",p)})}).catch(function(e){Ce(!0),Pe(!1)})};return!0===xe?r.a.createElement("div",{className:"mx-auto",id:"spinner"},r.a.createElement(g.a,{className:"fa-spin mx-auto fa-5x",icon:"spinner"})):ke?r.a.createElement(k.a,{validationSchema:G,onSubmit:console.log},function(e){e.handleSubmit;var a=e.handleChange,t=(e.handleBlur,e.values),n=e.touched,l=(e.isValid,e.errors);return r.a.createElement(j.a,{onChange:a,noValidate:!0,onSubmit:Fe},r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{md:"4",controlId:"validationFormik01"},r.a.createElement(j.a.Label,null,"First name"),r.a.createElement(j.a.Control,{type:"text",name:"firstName",placeholder:"John",value:t.firstName,isValid:n.firstName&&!l.firstName,isInvalid:!!l.firstName,onChange:function(e){return c(e.target.value)}}),r.a.createElement(j.a.Control.Feedback,null,l.firstName)),r.a.createElement(j.a.Group,{md:"4",controlId:"validationFormik02"},r.a.createElement(j.a.Label,null,"Last name"),r.a.createElement(j.a.Control,{type:"text",name:"lastName",placeholder:"Smith",value:t.lastName,onChange:function(e){return m(e.target.value)},isValid:n.lastName&&!l.lastName,isInvalid:!!l.lastName}),r.a.createElement(j.a.Control.Feedback,null,l.lastName))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"email",md:"4"},r.a.createElement(j.a.Label,null,"Email"),r.a.createElement(D.a,null,r.a.createElement(D.a.Prepend,null,r.a.createElement(D.a.Text,{id:"inputGroupPrepend"},"@")),r.a.createElement(j.a.Control,{type:"text",placeholder:"example@gmail.com","aria-describedby":"inputGroupPrepend",name:"email",value:t.email,onChange:function(e){return f(e.target.value)},isInvalid:!!l.email,isValid:n.email&&!l.email}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.email)))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"university",md:"6",controlId:"validationFormik03"},r.a.createElement(j.a.Label,null,"University"),r.a.createElement(j.a.Control,{type:"text",placeholder:"University",name:"university",value:t.university,maxLength:"24",onChange:function(e){return y(e.target.value)},isInvalid:!!l.university,isValid:n.university&&!l.university}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.university)),r.a.createElement(j.a.Group,{id:"gpa",md:"6",controlId:"validationFormik04"},r.a.createElement(j.a.Label,null,"GPA"),r.a.createElement(j.a.Control,{type:"text",placeholder:"4.0",name:"gpa",value:t.gpa,onChange:function(e){return C(e.target.value)},isInvalid:!!l.gpa,isValid:n.gpa&&!l.gpa}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},"Please enter a valid number"))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"reserve",md:"6"},r.a.createElement(j.a.Label,null,"Reserve Salary"),r.a.createElement(j.a.Control,{type:"text",placeholder:"$40,000",name:"reserve",value:t.reserve,onChange:function(e){return L(e.target.value)},isInvalid:!!l.reserve,isValid:n.reserve&&!l.reserve}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},"Please enter a valid number")),r.a.createElement(j.a.Group,{id:"duration",md:"6"},r.a.createElement(j.a.Label,null,"Auction Duration ( days )"),r.a.createElement(j.a.Control,{type:"text",placeholder:"7",name:"duration",value:t.duration,onChange:function(e){return R(e.target.value)},isInvalid:!!l.duration,isValid:n.duration&&!l.duration}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.duration))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"profile-photo",md:"6"},r.a.createElement(j.a.Label,null,"Upload a Profile Photo"),r.a.createElement(j.a.Control,{type:"file",accept:".jpg, .jpeg, .png",name:"profile-photo",value:t.profilePhoto,onChange:function(e){return je(e.target.files[0])},isInvalid:!!l.profilePhoto,isValid:n.profilePhoto&&!l.profilePhoto}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},"Please upload a file")),r.a.createElement(j.a.Group,{id:"cv",md:"6"},r.a.createElement(j.a.Label,null,"Upload a CV"),r.a.createElement(j.a.Control,{type:"file",accept:".pdf",name:"cv",value:t.cv,onChange:function(e){return he(e.target.files[0])},isInvalid:!!l.cv,isValid:n.cv&&!l.cv}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.cv))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"password",md:"3"},r.a.createElement(j.a.Label,null,"Password"),r.a.createElement(j.a.Control,{type:"password",placeholder:"Password",name:"password",value:t.password,onChange:function(e){return W(e.target.value)},isInvalid:!!l.password}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.password)),r.a.createElement(j.a.Group,{id:"password-confirm",md:"3",controlId:"validationFormik06"},r.a.createElement(j.a.Label,null,"Password Confirmation"),r.a.createElement(j.a.Control,{type:"password",placeholder:"Confirm",name:"passwordConfirmation",value:t.passwordConfirmation,onChange:function(e){return Y(e.target.value)},isInvalid:!!l.passwordConfirmation}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.passwordConfirmation))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Check,{required:!0,name:"terms",label:"Agree to terms and conditions",onChange:a,isInvalid:!!l.terms,feedback:l.terms,id:"validationFormik0"})),!0===ke?r.a.createElement("div",{id:"error"},"Error: make sure you have filled out all details."):""),r.a.createElement(N.a,{type:"submit"},"Submit form"))}):!1===ke?r.a.createElement(A,{profilePhoto:Oe,reserve:F,day:te,hour:ce,minute:me,second:Ee,id:Q}):void 0}),M=C.object({firstName:C.string().required(),lastName:C.string().required(),email:C.string().email().required(),company:C.string().required(),password:C.string().required("Password is required"),passwordConfirmation:C.string().oneOf([C.ref("password"),null],"Passwords must match")}),K=Object(s.b)(function(e){return{employer:e.employer}})(function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(""),b=Object(E.a)(v,2),g=b[0],h=b[1],y=Object(n.useState)(""),S=Object(E.a)(y,2),O=S[0],C=S[1],_=Object(n.useState)(""),P=Object(E.a)(_,2),F=P[0],L=P[1],T=Object(n.useState)("GO"),A=Object(E.a)(T,2),G=A[0],B=A[1],K=function(a){a.preventDefault();var t={first_name:l,last_name:s,email:p,company:g,password:O,password_confirmation:F};x.a.post(I.root+"employer/create",t).then(function(a){200===a.status&&(B(!1),localStorage.setItem("id",a.data.id),e.dispatch({type:"SETEMPLOYER"})),x.a.post(I.root+"employer_token",{auth:{email:p,password:O}}).then(function(e){localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("employer",!0),localStorage.setItem("email",p)})}).catch(function(e){B(!0)})};return G?r.a.createElement(k.a,{validationSchema:M,initialValues:{}},function(e){e.handleSubmit;var a=e.handleChange,t=(e.handleBlur,e.values),n=e.touched,l=(e.isValid,e.errors);return r.a.createElement(j.a,{onChange:a,noValidate:!0,onSubmit:K},r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{md:"4",controlId:"validationFormik01"},r.a.createElement(j.a.Label,null,"First name"),r.a.createElement(j.a.Control,{type:"text",name:"firstName",placeholder:"John",value:t.firstName,onChange:function(e){return c(e.target.value)},isValid:n.firstName&&!l.firstName,isInvalid:!!l.firstName}),r.a.createElement(j.a.Control.Feedback,null,"Looks good!")),r.a.createElement(j.a.Group,{md:"4",controlId:"validationFormik02"},r.a.createElement(j.a.Label,null,"Last name"),r.a.createElement(j.a.Control,{type:"text",name:"lastName",placeholder:"Smith",value:t.lastName,onChange:function(e){return m(e.target.value)},isValid:n.firstName&&!l.lastName,isInvalid:!!l.lastName}),r.a.createElement(j.a.Control.Feedback,null,"Looks good!"))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"email",md:"4",controlId:"validationFormikEmail"},r.a.createElement(j.a.Label,null,"Email"),r.a.createElement(D.a,null,r.a.createElement(D.a.Prepend,null,r.a.createElement(D.a.Text,{id:"inputGroupPrepend"},"@")),r.a.createElement(j.a.Control,{type:"text",placeholder:"example@gmail.com","aria-describedby":"inputGroupPrepend",name:"email",value:t.email,onChange:function(e){return f(e.target.value)},isInvalid:!!l.email,isValid:n.email&&!l.email}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.email))),r.a.createElement(j.a.Group,{id:"company",md:"6",controlId:"validationFormik03"},r.a.createElement(j.a.Label,null,"Company"),r.a.createElement(j.a.Control,{type:"text",placeholder:"Google",name:"company",value:t.company,onChange:function(e){return h(e.target.value)},isValid:n.company&&!l.company,isInvalid:!!l.company}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.company))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{id:"password",md:"3",controlId:"validationFormik04"},r.a.createElement(j.a.Label,null,"Password"),r.a.createElement(j.a.Control,{type:"password",placeholder:"Password",name:"password",value:t.password,onChange:function(e){return C(e.target.value)},isInvalid:!!l.password,isValid:n.password&&!l.password}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.password)),r.a.createElement(j.a.Group,{id:"password-confirm",md:"3",controlId:"validationFormik05"},r.a.createElement(j.a.Label,null,"Password Confirmation"),r.a.createElement(j.a.Control,{type:"password",placeholder:"Confirm",name:"passwordConfirmation",value:t.passwordConfirmation,onChange:function(e){return L(e.target.value)},isInvalid:!!l.passwordConfirmation,isValid:n.passwordConfirmation&&!l.passwordConfirmation}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},l.passwordConfirmation))),r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Check,{required:!0,name:"terms",label:"Agree to terms and conditions",onChange:a,isInvalid:!!l.terms,feedback:l.terms,id:"validationFormik0"})),!0===G?r.a.createElement("div",{id:"error"},"That Email is Already In Use, Please Try Again."):""),r.a.createElement(N.a,{type:"submit"},"Submit form"))}):!1===G?r.a.createElement(w.a,{variant:"success"},r.a.createElement(w.a.Heading,null,"Account Successfully Created"),r.a.createElement("p",null,"Welcome to GradBay. Search for a grad on the home page or click here to see a full list of the current grads up for auction!")):void 0}),R=function(e){var a=Object(n.useState)(void 0),t=Object(E.a)(a,2),l=t[0],c=t[1],o=e.isEmployer,i=e.setIsEmployer,s=e.isStudent,m=e.setIsStudent;return!0!==l&&!1!==l?r.a.createElement("div",{className:"choice"},r.a.createElement(N.a,{onClick:function(e){e.preventDefault(),c(!0)},variant:"primary",size:"lg"},"Employer"),r.a.createElement(N.a,{onClick:function(e){e.preventDefault(),c(!1)},variant:"primary",size:"lg"},"Student")):l?r.a.createElement(K,{isEmployer:o,setIsEmployer:i,isStudent:s,setIsStudent:m}):!1===l?r.a.createElement(B,{isEmployer:o,setIsEmployer:i,isStudent:s,setIsStudent:m}):void 0},V=t(170),H=t.n(V);t(436);H.a.initializeApp({apiKey:"AIzaSyBavWhCgB3sXUR0dkmyW8dNpRr1ycKQyWc",authDomain:"gradbay-1811.firebaseapp.com",databaseURL:"https://gradbay-1811.firebaseio.com",projectId:"gradbay-1811",storageBucket:"gradbay-1811.appspot.com",messagingSenderId:"726401029227",appId:"1:726401029227:web:0b4c66fb425d7799"});var U=H.a.database().ref(),W=t(12),q=t.n(W),$=Object(s.b)(function(e){return{student:e.student,employer:e.employer}})(function(e){var a=Object(n.useState)(!1),t=Object(E.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(E.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),h=Object(E.a)(d,2),S=h[0],j=h[1],N=Object(n.useState)(!1),w=Object(E.a)(N,2),k=w[0],C=w[1];Object(n.useEffect)(function(){_(),e.employer&&U.child(localStorage.id).on("value",function(e){var a=e.val(),t=q.a.keys(a),n=0;t.forEach(function(e){q.a.keys(a[e]).filter(function(t){return!1===a[e][t].employer_read}).length>=1&&(n+=1)}),C(n>=1?"new-message":"all-messages-read")}),e.student&&U.on("value",function(e){var a=e.val(),t=q.a.keys(a),n={};t.map(function(e){q.a.keys(a[e]).map(function(t){if(Number(t.split("-")[0])===Number(localStorage.studentID))return n[e]=Object(p.a)({},t,a[e][t])})});var r=q.a.keys(n),l=q.a.keys(n[r[0]]);l=l[0];var c=0;console.log(l),r.forEach(function(e){q.a.keys(n[e][l]).filter(function(a){return!1===n[e][l][a].student_read}).length>=1&&(c+=1)}),C(c>=1?"new-message":"all-messages-read")})},[]);var _=function(){x.a.get(I.root+"students").then(function(e){var a=e.data.length,t=Math.floor(Math.random()*(a-1));j(e.data[t].id),console.log("set it to ",e.data[t].id)})};return r.a.createElement(f.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{id:"logo",src:y.a,alt:"logo"})),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(o.b,{className:"nav-link",to:"/auctions"},r.a.createElement(g.a,{icon:"user-graduate"})," Auctions"),r.a.createElement(o.b,{className:"nav-link",to:"/profile/".concat(S)},r.a.createElement(g.a,{icon:"dice"})," Feeling Lucky"),e.employer||e.student?r.a.createElement(b.a,{title:"My Account",id:"basic-nav-dropdown"},r.a.createElement(o.b,{to:"/myacc",className:"dropdown-item"},"My GradBay"),r.a.createElement(b.a.Divider,null),r.a.createElement(o.b,{className:"dropdown-item",onClick:function(){e.employer&&e.dispatch({type:"SETEMPLOYER"}),e.student&&e.dispatch({type:"SETSTUDENT"}),localStorage.setItem("jwt",""),localStorage.setItem("email",""),localStorage.setItem("student",""),localStorage.setItem("employer",""),localStorage.setItem("id",""),localStorage.setItem("studentID","")},to:"/"},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Link,{href:"#",variant:"primary",onClick:function(){return c(!0)}},r.a.createElement(g.a,{icon:"sign-in-alt"})," Sign in"),r.a.createElement(v.a.Link,{href:"#",variant:"primary",onClick:function(){return u(!0)}},r.a.createElement(g.a,{icon:"user-plus"})," Sign up")),r.a.createElement(O,{header:"Sign In",show:l,onHide:function(){return c(!1)},form:r.a.createElement(F,null)}),r.a.createElement(O,{header:"Sign Up",show:m,onHide:function(){return u(!1)},form:r.a.createElement(R,null)})),r.a.createElement(o.b,{to:"/myacc",className:"nav-link"},r.a.createElement(g.a,{id:k,className:"fa-2x",icon:"envelope"}))))}),z=t(1582),Y=(t(444),function(e){return r.a.createElement(z.a,null,e.children)}),J=t(1583),X=(t(219),t(1594)),Q=t(245),Z=(t(445),function(e){var a=e.bodyParagraph,t=e.title,n=e.bodyHeader,l=e.changeClass;return r.a.createElement(S.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),t?r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{id:"contained-modal-title-vcenter"},t)):r.a.createElement(r.a.Fragment,null),r.a.createElement(S.a.Body,{className:l},r.a.createElement("p",{className:"modal-subheader"},n||r.a.createElement(r.a.Fragment,null)),r.a.createElement("p",null,a)))}),ee=Object(s.b)(function(e){return{employer:e.employer,student:e.student,highBid:e.highBid}})(function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=e.bids,d=e.reservePrice,p=e.renderCards,f=e.onHide,v=e.form,b=e.show,g=function(){m(""),f()},h=function(a){if(l){var t={student_id:e.studentID,employer_email:localStorage.email,bid_amount:l};x.a.post(I.root+"students/bid",t).then(function(e){if(200===e.status){if(u.length>0){var a=+l>u[0].amount;m(a)}else d&&m(a=+l>d);p()}})}};return!1===s?r.a.createElement(Z,{className:"bid-success",show:b,onHide:g,bodyParagraph:r.a.createElement(w.a,{variant:"danger"},r.a.createElement(w.a.Heading,null,"Sorry, Your Offer Wasn't High Enough"),r.a.createElement(N.a,{onClick:function(){m("")},className:"offer-final",variant:"danger"},"Make Another Offer"))}):!0===s?r.a.createElement(Z,{className:"bid-success",show:b,onHide:g,bodyParagraph:r.a.createElement(w.a,{variant:"success"},r.a.createElement(w.a.Heading,null,"You Are The Highest Bidder"),r.a.createElement("p",null,"CONGRATULATIONS!"))}):e.employer?r.a.createElement(S.a,Object.assign({},e,{size:"lg",onHide:g,"aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{id:"contained-modal-title-vcenter"},"Quick Offer")),r.a.createElement(S.a.Body,null,r.a.createElement(D.a,{onKeyDown:function(e){"Enter"===e.key&&h()},className:"mb-3 quick-offer-input"},r.a.createElement(D.a.Prepend,null,r.a.createElement(D.a.Text,null,"$")),r.a.createElement(Q.a,{onChange:function(e){c(e.target.value)},type:"number","aria-label":"Amount (to the nearest dollar)",required:"true","data-toggle":"validator"})),r.a.createElement(j.a.Group,{className:"quick-offer-input"},r.a.createElement(j.a.Check,{className:"terms",required:!0,name:"terms",label:"Commit To Offer"})),r.a.createElement(N.a,{onClick:h,className:"offer-final",variant:"danger"},"Employ!"))):e.student?r.a.createElement(Z,{changeClass:"not-loggedin",show:b,onHide:g,bodyHeader:"Sorry, Students are not permitted to make Offers"}):r.a.createElement(Z,{show:b,onHide:g,title:"Quick Offer",bodyHeader:"You Must Be Logged in To Make an Offer",bodyParagraph:v})}),ae=function(e){var a=e.data,t=a.id,l=a.first_name,c=a.last_name,i=a.reserve_price,s=a.profile_photo,m=a.university,u=a.auction_duration,d=a.bids,p=Object(n.useState)(!1),f=Object(E.a)(p,2),v=f[0],b=f[1],g=Object(n.useState)(""),h=Object(E.a)(g,2),y=h[0],S=h[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),w=j[0],k=j[1],C=Object(n.useState)(""),I=Object(E.a)(C,2),_=(I[0],I[1]);Object(n.useEffect)(function(){setInterval(function(){var e=T.a.utc(),a=T()(u),t=new T.a.duration(a-e)._data,n=t.days,r=t.hours,l=t.minutes,c=t.seconds;S(r+24*n),k(l),_(c)},1e3)},[]);return r.a.createElement(X.a,{id:"card-properties",className:"mx-auto card-display"},r.a.createElement(o.b,{to:{pathname:"/profile/".concat(t),state:{id:t}}},r.a.createElement(X.a.Img,{id:"card-image",variant:"top",src:s})),r.a.createElement(X.a.Body,{className:"home-card-body"},r.a.createElement(X.a.Title,null,l," ",c),r.a.createElement(X.a.Text,null," ",m),r.a.createElement(X.a.Text,null," ",r.a.createElement("strong",null,"$",(d.length>0?d[0].amount:i).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))),r.a.createElement(X.a.Text,{id:"timer"},y,"h ",w,"m left "),r.a.createElement(X.a.Text,null,"Offers: ",d.length," "),r.a.createElement(N.a,{id:"home-button",variant:"primary",onClick:function(){return b(!0)}},"Make an Offer"),r.a.createElement(ee,{show:v,studentID:t,onHide:function(){return b(!1)},form:r.a.createElement(F,null),renderCards:e.render,bids:d,reservePrice:i})))},te=t(250),ne=function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=function(){x.a.get(I.root+"students/ending").then(function(e){c(e.data)})};return Object(n.useEffect)(function(){o()},[]),r.a.createElement(te.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:1500}},function(e){return r.a.createElement("div",null,r.a.createElement(J.a,null,l?q.a.first(l,3).map(function(e){var a=T.a.utc(),t=T()(e.auction_duration);if(new T.a.duration(t-a)>0)return r.a.createElement(ae,{key:e.id,render:o,data:e})}):""))})},re=(t(457),function(){return r.a.createElement("div",{className:"mx-auto summary text-center"},r.a.createElement("h3",{className:"who-we-are"},"Who Are We ?"),r.a.createElement("p",null,"We are GradBay, Australia's leading marketplace for live graduate auctions. We specialise in the technology space and work closely with the countries leading education facilities. Students can signup and put their skills on the line. Employers can sign up and have unparalleled access to Australia's youngest and brightest minds. All it takes is an offer and they are yours!",r.a.createElement("span",{className:"terms"},"^*")))}),le=(t(458),t(251)),ce=t.n(le),oe=t(252),ie=t.n(oe),se=t(253),me=t.n(se),ue=t(254),de=t.n(ue),pe=t(255),Ee=t.n(pe),fe=function(){return r.a.createElement("div",{className:"container uni-icons"},r.a.createElement("h3",{className:"text-center"},"Partners"),r.a.createElement("div",{className:"university container fluid"},r.a.createElement("img",{id:"uni1",src:ce.a,alt:"uni1"}),r.a.createElement("img",{id:"uni2",src:ie.a,alt:"uni2"}),r.a.createElement("img",{id:"uni3",src:me.a,alt:"uni3"}),r.a.createElement("img",{id:"uni4",src:de.a,alt:"uni4"}),r.a.createElement("img",{id:"uni5",src:Ee.a,alt:"uni5"})))},ve=(t(459),function(){return r.a.createElement("footer",{id:"footer",className:"page-footer font-small"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2019 Copyright:",r.a.createElement("p",null,"*^ Please note all content of this site is not real and is for a General Assembly final project.")))}),be=(t(460),function(e){var a=e.isEmployer,t=e.setIsEmployer,n=e.isStudent,l=e.setIsStudent;return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{isEmployer:a,setIsEmployer:t,isStudent:n,setIsStudent:l,href:"/"}),r.a.createElement("div",{className:"hero fluid "},r.a.createElement("div",{className:"container in-hero"},r.a.createElement("h2",{className:"display-4"},"GradBay"),r.a.createElement("h6",null,"Graduate hiring, done differently."))),r.a.createElement(Y,null,r.a.createElement(ne,null),r.a.createElement(re,null)),r.a.createElement(fe,null),r.a.createElement(ve,null))}),ge=function(){return r.a.createElement("h1",null,"No Match Go ",r.a.createElement(o.b,{to:"/"},"Home"))},he=t(1584),ye=(t(461),t(121)),Se=t.n(ye),Oe=function(e){var a=e.data,t=a.first_name,l=a.last_name,c=a.gpa,o=a.university,i=Object(n.useState)(!1),s=Object(E.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(E.a)(d,2),f=p[0],v=p[1],b=Object(n.useState)(!1),h=Object(E.a)(b,2),y=h[0],S=h[1];return r.a.createElement("div",{className:"table-holder"},r.a.createElement(he.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"8"},"Student Specifics"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Name:"),r.a.createElement("td",{colSpan:"1"},"".concat(t," ").concat(l)),r.a.createElement("td",{colSpan:"4"},"Australian Citizen:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"green"},icon:"check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"University:"),r.a.createElement("td",{colSpan:"1"},o),r.a.createElement("td",{colSpan:"4"},"Taxfile Number:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"green"},icon:"check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"GPA:"),r.a.createElement("td",{colSpan:"1"},c),r.a.createElement("td",{colSpan:"4"},"Masters Degree:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"green"},icon:"check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Seeking:"),r.a.createElement("td",{colSpan:"1"},"Full-Time"),r.a.createElement("td",{colSpan:"4"},"Distinction Average:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"red"},icon:"times-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Previous Expirience:"),r.a.createElement("td",{colSpan:"1"},m||function(){var e=Se.a.name.jobArea();return u(e),e}()),r.a.createElement("td",{colSpan:"4"},"Industry Work Experience:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"red"},icon:"times-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Hobby:"),r.a.createElement("td",{id:"hacker",colSpan:"1"},f||function(){var e=Se.a.hacker.ingverb();return v(e),e}()),r.a.createElement("td",{colSpan:"4"},"Willing To Relocate:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"green"},icon:"check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Expected Salary:"),r.a.createElement("td",{colSpan:"1"},"$",y||function(){var e,a=(e=Se.a.finance.amount(6e4,1e5))?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";return S(a),a}()),r.a.createElement("td",{colSpan:"4"},"GradBay Approved:"),r.a.createElement("td",{colSpan:"1"},r.a.createElement(g.a,{style:{color:"green"},icon:"check-circle"}))))))},je=(t(1508),Object(s.b)(function(e){return{student:e.student,employer:e.employer}})(function(e){var a=Object(n.useState)(!1),t=Object(E.a)(a,2),l=t[0],c=t[1],s=e.data,m=s.id,u=s.auction_duration,d=s.bids,p=(s.cv,s.email,s.first_name),f=s.last_name,v=(s.gpa,s.reserve_price),b=(s.university,s.watchlists);if(T()().utc()>T()(u))return r.a.createElement(i.a,{to:"/auctions"});var h=function(e){return e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""},y=function(){x.a.post(I.root+"watchlist/".concat(m),{employer_email:localStorage.email}).then(function(a){204===a.status&&e.renderProfile()})};return r.a.createElement("div",null,r.a.createElement("h1",{className:"profile-name"},p," ",f),r.a.createElement("div",{className:"pricing"},r.a.createElement("div",{className:"pricing-col-one"},d?r.a.createElement("div",{className:"price-display"},r.a.createElement("div",{className:"text-col"},"Last price:")," ",r.a.createElement("span",{className:"last-price price "},"$",function(e){if(d.length>1){var a=q.a.pluck(e,"amount");if(a=new Set(a),(a=Array.from(a)).length>1)return h(a[1])}return h(v)}(d))):"",d?r.a.createElement("div",{className:"price-display"},r.a.createElement("div",{className:"text-col"},"Price now:"),r.a.createElement("span",{className:"price-now price"},"$",d.length>0?h(d[0].amount):h(v))):"",d?r.a.createElement("div",{className:"price-display offer"},r.a.createElement("div",{className:"text-col"},"Offers:"),r.a.createElement("div",{className:"price"},d.length>0?d.length:"0")):"",d?r.a.createElement("div",{className:"price-display offer"},r.a.createElement("div",{className:"text-col"},"Top Offer:"),r.a.createElement("span",{className:"price"},d.length>0?d[0].company:"No Offers Yet")):""),r.a.createElement("div",{className:"pricing-col-two"},r.a.createElement("div",{className:"price-display buttons"},r.a.createElement(N.a,{onClick:function(){return c(!0)}},"Make An Offer")),r.a.createElement(ee,{show:l,studentID:m,onHide:function(){return c(!1)},form:r.a.createElement(F,null),renderCards:e.renderProfile,bids:d,reservePrice:v}),e.employer?r.a.createElement("div",{className:"price-display buttons"},b?void 0===q.a.findWhere(b,{employer_email:localStorage.email})?r.a.createElement(N.a,{onClick:y,variant:"outline-danger"},"Add To Watchlist"," ",r.a.createElement(g.a,{className:"heart",style:{color:"#fff"},icon:"heart"})):r.a.createElement(N.a,{onClick:y,variant:"outline-danger"},"Add To Watchlist"," ",r.a.createElement(g.a,{className:"heart",style:{color:"#dc3545"},icon:"heart"})):r.a.createElement(N.a,{onClick:y,variant:"outline-danger"},"Add To Watchlist"," ",r.a.createElement(g.a,{className:"heart",icon:"heart"}))):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"price-display buttons message-button"},p&&e.employer?r.a.createElement(o.b,{to:{pathname:"/myacc",state:{id:m,name:"".concat(p," ").concat(f)}}},r.a.createElement(N.a,{variant:"warning"},"Message ".concat(p))):r.a.createElement(N.a,{variant:"warning"},"Message ")))))})),Ne=t(1592),we=(t(1509),function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=function(){c(!l)};return r.a.createElement(Ne.a,{defaultActiveKey:!1},r.a.createElement(X.a,null,r.a.createElement(X.a.Header,null,r.a.createElement(Ne.a.Toggle,{as:N.a,variant:"outline-success",eventKey:!0,onClick:function(){return o()}},"View CV")),r.a.createElement(Ne.a.Collapse,{onClick:function(){return o()},as:N.a,eventKey:l},r.a.createElement(X.a.Body,null," ",r.a.createElement("iframe",{title:"CV Contents",src:e.cv})))))}),ke=t(1585),Ce=t(246),Ie=(t(1510),function(e){var a=Object(n.useState)({}),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(E.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(E.a)(d,2),f=(p[0],p[1]),v=function(){if(e.location.state)a=e.location.state.id,console.log("set new ID to ",a);else{var a=window.location.href.split("/");a=a[a.length-1],console.log("set new ID to ",a)}f(a),x.a.get(I.root+"student/".concat(a)).then(function(e){c(e.data),u(e.data.bids)}).catch(function(e){console.log(e)})};return Object(n.useEffect)(function(){v()},[]),null===l?r.a.createElement(i.a,{to:"/auctions"}):r.a.createElement(r.a.Fragment,null,r.a.createElement($,null),r.a.createElement(Y,null,r.a.createElement(ke.a,{className:"profile-layout"},r.a.createElement(Ce.a,{xs:5},l?r.a.createElement("div",{className:"text-center"}," ",r.a.createElement("h1",{className:"mobile-name"},l.first_name," ",l.last_name),r.a.createElement("img",{className:"profile-image mx-auto",src:l.profile_photo,alt:"profile"})):""),r.a.createElement(Ce.a,{xs:6},r.a.createElement(je,{renderProfile:v,data:l,bidArr:m}))),r.a.createElement(Oe,{data:l}),r.a.createElement(we,{cv:l.cv})),r.a.createElement(ve,null))}),_e=t(1593),xe=t(256),Pe=t.n(xe),Fe=t(257),De=t.n(Fe),Le=t(258),Te=t.n(Le),Ae=(t(1511),function(e){return r.a.createElement(_e.a,{className:"carousel",id:"carousel-container"},r.a.createElement(_e.a.Item,null,r.a.createElement("img",{id:"image-one",className:"d-block w-100",src:Pe.a,alt:"First slide"}),r.a.createElement(_e.a.Caption,null)),r.a.createElement(_e.a.Item,null,r.a.createElement("img",{id:"image-two",className:"d-block w-100",src:De.a,alt:"Third slide"}),r.a.createElement(_e.a.Caption,null)),r.a.createElement(_e.a.Item,null,r.a.createElement("img",{id:"image-three",className:"d-block w-100",src:Te.a,alt:"Third slide"}),r.a.createElement(_e.a.Caption,null)))}),Ge=(t(1512),function(e){var a,t=e.image,l=e.timeLeft,c=e.price,i=e.firstName,s=e.lastName,m=e.university,u=e.id,d=e.bids,p=e.renderCards,f=e.reservePrice,v=Object(n.useState)(""),b=Object(E.a)(v,2),g=b[0],h=b[1],y=Object(n.useState)(""),S=Object(E.a)(y,2),O=S[0],j=S[1],w=Object(n.useState)(""),k=Object(E.a)(w,2),C=k[0],I=k[1],_=Object(n.useState)(""),x=Object(E.a)(_,2),P=x[0],D=x[1],L=Object(n.useState)(!1),A=Object(E.a)(L,2),G=A[0],B=A[1],M="";return M=(a=c)?a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"",Object(n.useEffect)(function(){setInterval(function(){var e=T.a.utc(),a=T()(l),t=new T.a.duration(a-e)._data,n=t.days,r=t.hours,c=t.minutes,o=t.seconds;h(n),j(r),I(c),D(o)},1e3)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"card-holder",className:"container py-3"},r.a.createElement("div",{id:"horizontal-card",className:"card"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{id:"horizontal-img",src:t,alt:"headshot",className:"w-100"})),r.a.createElement("div",{className:"col-md-4 px-3"},r.a.createElement("div",{className:"card-block px-3"},r.a.createElement("h4",{id:"name",className:"card-title"},i," ",s),r.a.createElement("p",{id:"uni",className:"card-text"},m," "),r.a.createElement("p",{id:"price",className:"card-text"},"$".concat(M||c)),r.a.createElement("p",{id:"timer",className:"card-text"},0===g?"".concat(O,"h ").concat(C,"m ").concat(P,"s left"):"".concat(g,"d ").concat(O,"h ").concat(C,"m left")),r.a.createElement("p",{id:"uni",className:"card-text"},"Offers: ",d?d.length:""))),r.a.createElement("div",{className:"col-md-4 px-3"},r.a.createElement("div",{className:"card-block px-3 card-buttons"},r.a.createElement("p",null,r.a.createElement(N.a,{variant:"primary",onClick:function(){return B(!0)}},"Quick Offer"),r.a.createElement(ee,{show:G,studentID:u,onHide:function(){return B(!1)},form:r.a.createElement(F,null),renderCards:p,bids:d,reservePrice:f})),r.a.createElement("p",null,r.a.createElement(o.b,{to:{pathname:"/profile/".concat(u),state:{id:u}}},r.a.createElement(N.a,null,"View Profile")))))))),r.a.createElement("div",null))}),Be=function(e){var a=e.gradData,t=e.setGradData;Object(n.useEffect)(function(){l()},[]);var l=function(){x.a.get(I.root+"students").then(function(e){t(e.data)})};return r.a.createElement(J.a,null,a?a.map(function(e){var a=e.id,t=e.first_name,n=e.last_name,c=e.university,o=e.profile_photo,i=e.reserve_price,s=e.auction_duration,m=e.bids;if(m.length>=1)var u=m[0].amount>i?m[0].amount:i;else u=i;return r.a.createElement(Ge,{key:a,image:o,timeLeft:s,price:u,firstName:t,lastName:n,university:c,id:a,bids:m,renderCards:l,reservePrice:i})}):"")},Me=(t(1513),t(260)),Ke=function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),p=d[0],f=d[1],v=(e.gradData,e.setGradData),b=Object(n.useRef)(null);Object(n.useEffect)(function(){h()},[]);var h=function(){l||x.a.get(I.root+"students").then(function(e){var a=q.a.pluck(e.data,"first_name"),t=q.a.pluck(e.data,"last_name"),n=a.map(function(e,a){return"".concat(e," ").concat(t[a])});m(n),c(e.data)})},y=function(){if(p){var e=p.split(" ");if(1===e.length)e=l.filter(function(a){return a.first_name.toLowerCase().includes(e[0].toLowerCase())||a.last_name.toLowerCase().includes(e[0].toLowerCase())});else{if(2!==e.length)return void b.current.clear();e=l.filter(function(a){return a.first_name.toLowerCase().includes(e[0].toLowerCase())||a.first_name.toLowerCase().includes(e[1].toLowerCase())||a.last_name.toLowerCase().includes(e[0].toLowerCase())||a.last_name.toLowerCase().includes(e[1].toLowerCase())})}b.current.clear(),e.length>=1?v(e):v(l)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:"mb-3 input-search",onKeyDown:function(e){"Enter"===e.key&&y()}},r.a.createElement(D.a.Prepend,null,r.a.createElement(D.a.Text,{id:"basic-addon1"},r.a.createElement(g.a,{icon:"search"}))),r.a.createElement(Me.Typeahead,{ref:b,labelKey:"name",multiple:!1,options:s||["something"],placeholder:"Search by First or Last Name",value:p,onChange:function(e){e.length>0&&f(e[0])},onInputChange:function(e,a){f(e)},minLength:"3"}),r.a.createElement(N.a,{onClick:y,className:"search-button-auctions",variant:"outline-success"},"Go")))},Re=function(e){var a=Object(n.useState)([]),t=Object(E.a)(a,2),l=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{href:"/auctions"}),r.a.createElement(Ae,null),r.a.createElement(Y,null,r.a.createElement(Ke,{gradData:l,setGradData:c}),r.a.createElement(Be,{gradData:l,setGradData:c})),r.a.createElement(ve,null))},Ve=t(1586),He=(t(80),function(e){var a=e.date,t=e.bidAmount,n=e.profilePhoto,l=e.firstName,c=e.lastName,i=e.university,s=e.email,m=e.status,u=e.salePrice,d=e.studentID,p=e.bidCount,E=e.list;return r.a.createElement(X.a,{responsive:"true",className:"tab-card"},r.a.createElement(X.a.Body,{className:"tab-card-body"},r.a.createElement(ke.a,{className:"upper-row"},r.a.createElement(Ce.a,{xs:8},r.a.createElement("span",{className:"tab-spans"},E?"AUCTION END":"OFFER DATE"),r.a.createElement("div",{className:"tab-small-headings"},a)),r.a.createElement(Ce.a,{xs:4},r.a.createElement("span",{className:"tab-spans"},E?"TOP OFFER":"OFFER AMOUNT"),r.a.createElement("div",{className:"tab-small-headings"},"$",t))),r.a.createElement(ke.a,{className:"offer-card"},r.a.createElement(Ce.a,{className:"offer-image",xs:2},r.a.createElement("img",{src:n,alt:"holder"})),r.a.createElement(Ce.a,{className:"middle-box",xs:6},r.a.createElement("span",{className:"tab-spans header"},l," ",c),r.a.createElement("div",null,i),r.a.createElement("div",null,s)),r.a.createElement(Ce.a,{className:"right-box",xs:4},r.a.createElement("div",null,"Status: ",r.a.createElement("span",{className:m},m)),r.a.createElement("div",null,"Offers: ",p),u&&!E?r.a.createElement("div",null,"Sale Price: ",r.a.createElement("span",{className:"tab-small-headings"},"$",u),"  "):E?r.a.createElement("div",null,"Reserve Price: ",r.a.createElement("span",{className:"tab-small-headings"},"$",u),"  "):r.a.createElement(r.a.Fragment,null),"live"===m?r.a.createElement("div",null,r.a.createElement(o.b,{to:{pathname:"/profile/".concat(d),state:{id:d}}},l,"'s Profile")):r.a.createElement(r.a.Fragment,null)))))}),Ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab-card empty"},r.a.createElement("h1",null,"Wow, such empty"),r.a.createElement(g.a,{className:"fa-5x",icon:"snowman"}),r.a.createElement("p",null,"Go and make your first offer ",r.a.createElement(o.b,{to:"/auctions"},"here")," and then come back and check your account.")))},We=function(){var e=Object(n.useState)(""),a=Object(E.a)(e,2),t=a[0],l=a[1],c=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};Object(n.useEffect)(function(){o()},[]);var o=function(){x.a.get(I.root+"getbids/".concat(localStorage.id)).then(function(e){l(e.data)})},i=function(e){if(e.bid){if(e.bid.id===e.student_bids.id&&T()(e.student.auction_duration)<T()())return"won";if(T()(e.student.auction_duration)>T()())return"live";if(e.bid.id!==e.student_bids.id&&T()(e.student.auction_duration)<T()())return"lost"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab-heading"},"Offers"),t.length>0?t.map(function(e,a){var t=e.student_bids.created_at,n=e.student,l=n.profile_photo,o=n.first_name,s=n.last_name,m=n.university,u=n.email,d=n.id,p=T()(t).format().slice(0,10);return r.a.createElement(He,{key:{first_name:o}+(a+1).toString(),date:p,bidAmount:c(e.bid.amount),profilePhoto:l,firstName:o,lastName:s,university:m,email:u,status:i(e),salePrice:c(e.student_bids.amount),studentID:d,bidCount:e.bid_count})}):r.a.createElement(Ue,null))},qe=function(){var e=Object(n.useState)(""),a=Object(E.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)(function(){c()},[]);var c=function(){var e={headers:{Authorization:"Bearer "+localStorage.jwt}};x.a.get(I.root+"winningbids/".concat(localStorage.id),e).then(function(e){l(e.data)})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab-heading"},"Employed"),t.length>0?t.map(function(e,a){var t,n=e.bid.created_at,l=e.student,c=l.profile_photo,o=l.first_name,i=l.last_name,s=l.university,m=l.email,u=l.id,d=(l.reserve_price,T()(n).format().slice(0,10));return r.a.createElement(He,{key:{first_name:o}+a.toString(),date:d,bidAmount:(t=e.bid.amount,t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),profilePhoto:c,firstName:o,lastName:i,university:s,email:m,status:"won",studentID:u,bidCount:e.bid_count})}):r.a.createElement(Ue,null))},$e=function(){var e=Object(n.useState)(""),a=Object(E.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)(function(){o()},[]);var c=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},o=function(){x.a.get(I.root+"watchlist/".concat(localStorage.id)).then(function(e){l(e.data)})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab-heading"},"Watchlist"),t.length>0?t.map(function(e,a){e.watchlist.created_at;var t,n=e.student,l=n.profile_photo,o=n.first_name,i=n.last_name,s=n.university,m=n.email,u=n.id,d=n.auction_duration,p=n.reserve_price,E=T()(d).format().slice(0,10);return r.a.createElement(He,{key:{first_name:o}+(a+2).toString(),list:"watch",date:E,bidAmount:c(e.current_price>p?e.current_price:p),profilePhoto:l,firstName:o,lastName:i,university:s,email:m,status:(t=d,T()()>T()(t)?"ended":"live"),salePrice:c(p),studentID:u,bidCount:e.bid_count})}):r.a.createElement(Ue,null))},ze=function(e){return r.a.createElement(Ve.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,{sm:2},r.a.createElement(v.a,{variant:"pills",className:"flex-column side-tabs"},r.a.createElement(v.a.Item,{className:"myacc-nav"},r.a.createElement(v.a.Link,{eventKey:"first"},"Offers")),r.a.createElement(v.a.Item,{className:"myacc-nav"},r.a.createElement(v.a.Link,{eventKey:"second"},"Employed")),r.a.createElement(v.a.Item,{className:"myacc-nav"},r.a.createElement(v.a.Link,{eventKey:"third"},"Watchlist")))),r.a.createElement(Ce.a,{sm:10},r.a.createElement(Ve.a.Content,null,r.a.createElement(Ve.a.Pane,{eventKey:"first"},r.a.createElement(We,null)),r.a.createElement(Ve.a.Pane,{eventKey:"second"},r.a.createElement(qe,null)),r.a.createElement(Ve.a.Pane,{eventKey:"third"},r.a.createElement($e,null))))))},Ye=function(e){return r.a.createElement("div",{className:e.identifier},r.a.createElement("h6",null,e.sender),r.a.createElement("p",null,e.content))},Je=(t(1578),Object(s.b)(function(e){return{employer:e.employer,student:e.student}})(function(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(""),b=Object(E.a)(v,2),g=b[0],h=b[1],y=e.messageContent,S=e.student,O=e.employer,j=e.studentName,w=e.messageContentKeys;Object(n.useEffect)(function(){k(),C()},[]);var k=function(){c(q.a.keys(y).reverse()),h(y)},C=function(){S||x.a.get(I.root+"employer/".concat(e.employerID)).then(function(e){f(e.data.company)})},_=function(){var a=U.child(e.employerID).child("".concat(e.studentID,"-").concat(e.studentName)).child(T()().format());if(U.child(e.employerID).child("".concat(e.studentID,"-").concat(e.studentName)).on("value",function(e){h(e.val()),c(q.a.keys(e.val()).reverse())}),O)var t={content:s,employer_name:p,employer_read:O,from:"employer",from_employer:O,from_student:!O,student_name:j,student_read:!O};else S&&(t={content:s,employer_name:l.length>=1?y[l[0]].employer_name:y[w[0]].employer_name,employer_read:!S,from:"student",from_employer:!S,from_student:S,student_name:j,student_read:S});a.once("value").then(function(e){a.set(t),m("")})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message-content"},l.length>=1?l.map(function(e,a){return console.log(l),console.log(g),r.a.createElement(Ye,{key:a,identifier:g[e].from,sender:g[e].from_employer?g[e].employer_name:g[e].student_name,content:g[e].content})}):""),r.a.createElement(D.a,{className:"message-input"},r.a.createElement(D.a.Prepend,null),r.a.createElement(Q.a,{onKeyDown:function(e){"Enter"===e.key&&_()},onChange:function(e){m(e.target.value)},as:"textarea","aria-label":"With textarea",value:s}),r.a.createElement(N.a,{onClick:_,variant:"dark"},"Send")))})),Xe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tab-card empty"},r.a.createElement("h1",null,"Wow, such empty"),r.a.createElement(g.a,{className:"fa-5x",icon:"inbox"}),r.a.createElement("p",null,"Are you lonely? Check out our ",r.a.createElement(o.b,{to:"/auctions"},"Auctions!"))))},Qe=Object(s.b)(function(e){return{employer:e.employer,student:e.student}})(function(e){var a=Object(n.useState)(localStorage.id),t=Object(E.a)(a,1)[0],l=Object(n.useState)(e.studentID),c=Object(E.a)(l,1)[0],o=Object(n.useState)(""),i=Object(E.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),f=d[0],b=d[1],g=Object(n.useState)(""),h=Object(E.a)(g,2),y=h[0],S=h[1];Object(n.useEffect)(function(){O()},[]);var O=function(){if(e.employer){var a=U.child(t);e.newMsg&&a.once("value").then(function(t){0===q.a.keys(t.val()).filter(function(e){return Number(e.split("-")[0])===c}).length&&(a.child("".concat(c,"-").concat(e.studentName)).set(T()().format()),e.setNewMsg(!1))}),a.on("value",function(a){var t=a.val(),n=q.a.keys(t),r=0;n.forEach(function(e){q.a.keys(t[e]).filter(function(a){return!1===t[e][a].employer_read}).length>=1&&(r+=1)}),e.setUnreadMsgs(r),m(a.val()),b(q.a.keys(a.val()))})}else e.student&&U.on("value",function(a){var t=a.val(),n=q.a.keys(t),r={};n.map(function(e){q.a.keys(t[e]).map(function(a){if(Number(a.split("-")[0])===Number(localStorage.studentID))return S(a),r[e]=Object(p.a)({},a,t[e][a])})});var l=q.a.keys(r),c=q.a.keys(r[l[0]]);c=c[0];var o=0;console.log(c),l.forEach(function(e){q.a.keys(r[e][c]).filter(function(a){return!1===r[e][c][a].student_read}).length>=1&&(o+=1)}),e.setUnreadMsgs(o),m(r),b(q.a.keys(r))})},j=function(e,a,t){return q.a.keys(e).filter(function(n){return!e[n][t]&&e[n].from===a}).length>=1?"false":"true"},N=function(e){if("Incoming Message"!==e.target.text){var a=e.target.text;U.once("value").then(function(e){q.a.keys(s).forEach(function(e){var t=q.a.keys(s[e][y]);s[e][y][t[0]].employer_name===a&&t.forEach(function(a){"employer"===s[e][y][a].from&&U.child(e).child(y).child(a).child("student_read").set(!0)})})})}},w=function(e){var a=e.target.text;U.once("value").then(function(e){var n=e.val(),r=n[t],l=q.a.keys(r).filter(function(e){return e.split("-")[1]===a});q.a.keys(n[t][l]).map(function(e){"student"===n[t][l[0]][e].from&&U.child(t).child(l[0]).child(e).child("employer_read").set(!0)})})};return r.a.createElement(Ve.a.Container,{id:"left-tabs-example",defaultActiveKey:c||0},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,{sm:2},r.a.createElement(v.a,{variant:"pills",className:"flex-column side-tabs"},f.length>=1&&s?f.map(function(a,t){if(e.employer){var n=j(s[a],"student","employer_read"),l=a.split("-")[1],o=a.split("-")[0];return r.a.createElement(v.a.Item,{className:"myacc-nav",id:n,key:t},r.a.createElement(v.a.Link,{onClick:w,value:a,eventKey:c?o:t},l))}if(e.student){var i=j(s[a][y],"employer","student_read"),m=q.a.keys(s[a][y]),u=s[a][y][m[0]]?s[a][y][m[0]].employer_name:"Incoming Message";return r.a.createElement(v.a.Item,{id:i,onClick:N,className:"myacc-nav",key:t,value:a},r.a.createElement(v.a.Link,{eventKey:t},u))}}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(Ce.a,{sm:10},r.a.createElement(Ve.a.Content,null,f.length>=1&&s?f.map(function(a,n){if(e.employer){var l=a.split("-")[1],o=a.split("-")[0];return r.a.createElement(Ve.a.Pane,{key:n,eventKey:c?o:n},r.a.createElement(Je,{messageContent:s[a],employerID:t,studentID:o,studentName:l}))}if(e.student)return r.a.createElement(Ve.a.Pane,{key:n,eventKey:n},r.a.createElement(Je,{messageContent:s[a][y],messageContentKeys:q.a.keys(s[a][y]),employerID:a,studentID:localStorage.studentID,studentName:y.split("-")[1],studentKey:y}))}):r.a.createElement(Xe,null)))))}),Ze=function(){return r.a.createElement("div",{className:"tab-heading"},"Account Details")},ea=function(){return r.a.createElement(Ve.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,{sm:2},r.a.createElement(v.a,{variant:"pills",className:"flex-column side-tabs"},r.a.createElement(v.a.Item,{className:"myacc-nav"},r.a.createElement(v.a.Link,{eventKey:"first"},"Update Account")))),r.a.createElement(Ce.a,{sm:10},r.a.createElement(Ve.a.Content,null,r.a.createElement(Ve.a.Pane,{eventKey:"first"},r.a.createElement(Ze,null))))))},aa=t(1587),ta=Object(s.b)(function(e){return{employer:e.employer,student:e.student}})(function(e){var a=Object(n.useState)(!!e.location.state),t=Object(E.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(0),s=Object(E.a)(o,2),m=s[0],u=s[1];return e.employer||e.student?r.a.createElement(r.a.Fragment,null,r.a.createElement($,{href:"/auctions"}),r.a.createElement(Y,null,r.a.createElement(aa.a,{className:"top-tabs",defaultActiveKey:e.location.state?"messages":e.student?"messages":"activity",id:"uncontrolled-tab-example"},e.employer?r.a.createElement(Ve.a,{eventKey:"activity",title:"Activity"},r.a.createElement(ze,null)," "):"",r.a.createElement(Ve.a,{eventKey:"messages",title:m>=1?"Messages (".concat(m,")"):"Messages"},e.employer?r.a.createElement(Qe,{setUnreadMsgs:u,unreadMsgs:m,newMsg:l,setNewMsg:c,studentName:e.location.state?e.location.state.name:"",studentID:e.location.state?e.location.state.id:""}):r.a.createElement(Qe,{newMsg:l,setUnreadMsgs:u,unreadMsgs:m})),r.a.createElement(Ve.a,{eventKey:"account",title:"Account"},r.a.createElement(ea,null)))),r.a.createElement(ve,null)):r.a.createElement(i.a,{to:"/"})}),na=t(87),ra=t(25);na.b.add(ra.l,ra.a,ra.h,ra.m,ra.j,ra.g,ra.b,ra.k,ra.e,ra.i,ra.f,ra.c,ra.d);var la=function(){var e=Object(m.b)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{store:e},r.a.createElement(o.a,{basename:"/final_project_client"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:be}),r.a.createElement(i.b,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(i.b,{exact:!0,path:"/auctions",render:function(e){return r.a.createElement(Re,e)}}),r.a.createElement(i.b,{exact:!0,path:"/myacc",render:function(e){return r.a.createElement(ta,e)}}),r.a.createElement(i.b,{component:ge})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(la,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},219:function(e,a,t){},241:function(e,a,t){e.exports=t.p+"static/media/logo.574fd8f1.png"},251:function(e,a,t){e.exports=t.p+"static/media/uni-1.df03b9bc.png"},252:function(e,a,t){e.exports=t.p+"static/media/uni-2.f79cb020.png"},253:function(e,a,t){e.exports=t.p+"static/media/uni-3.4f10a69f.png"},254:function(e,a,t){e.exports=t.p+"static/media/uni-4.84ab05aa.png"},255:function(e,a,t){e.exports=t.p+"static/media/uni-5.1cdf7311.png"},256:function(e,a,t){e.exports=t.p+"static/media/carousel1.a75de39f.jpg"},257:function(e,a,t){e.exports=t.p+"static/media/carousel4.0016efdd.jpg"},258:function(e,a,t){e.exports=t.p+"static/media/carousel2.3cefba54.jpg"},262:function(e,a,t){e.exports=t(1579)},270:function(e,a,t){},434:function(e,a,t){},444:function(e,a,t){},445:function(e,a,t){},457:function(e,a,t){},458:function(e,a,t){},459:function(e,a,t){},460:function(e,a,t){},461:function(e,a,t){},80:function(e,a,t){}},[[262,1,2]]]);
//# sourceMappingURL=main.2267afa5.chunk.js.map